### 进程间通信 IPC(Inter-Process Communication)

##### 01.匿名管道

```
从一个进程连接数据流到另一个进程时，就使用管道，通常是把一个进程的输出通过管道连接到另一个进程的输入。
```

#### 02.命名管道

```
有名管道fifo解决了pipe只能有关系的进程才能通信的问题
实现一个有名管道实际上就是实现一个FIFO文件，有名管道一旦建立，之后它的读，以及关闭操作都与普通管道完全相同。
虽然FIFO文件的inode节点在磁盘上，但仅是一个节点而已，文件的数据还是存在内核缓冲页面上，和普通管道相同。
```

#### 03.消息队列

```
由于管道不适合进程间频繁地交换数据，消息队列则可以解决这个问题。A进程要给B进程发送消息，A进程把数据放到对应的消息队列之后就可以正常返回了，B进程需要的时候再去读取数据就可以。

如果没有释放消息队列或者关闭操作系统，消息队列会一直存在，而匿名管道是随进程的创建而建立，随进程的结束而销毁。

消息队列本质上是位于内核空间的链表，链表的每个节点都是一条消息。每一条消息都有自己的消息类型，消息类型用整数来表示，而且必须大于 0。
每种类型的消息都被对应的链表所维护。消息队列不适合比较大的数据的传输。
```

#### 04.共享内存

```
消息队列的读取和写入的过程，都会发生用户态与内核态之间的消息拷贝过程。共享内存很好的解决了这一问题。

每个进程都会维护一个从内存地址到虚拟内存页面之间的映射关系。尽管每个进程都有自己的内存地址，不同的进程可以同时将同一个内存页面映射到自己的地址空间中，从而达到共享内存的目的。

所有进程共享同一块内存，共享内存在各种进程间通信方式中具有最高的效率。访问共享内存区域和访问进程独有的内存区域一样快，并不需要通过系统调用或者其它需要切入内核的过程来完成。同时它也避免了对数据的各种不必要的复制。

共享内存的几乎可以认为没有上限，它也是不局限与父子进程，采用跟消息队列类似的定位方式，因为内存是共享的，不存在任何单向的限制，最大的问题就是需要应用程序自己做互斥。
```

#### 05.信号

```
信号是linux系统响应某些条件而产生的一个事件，接收到该信号的进程会相应的采取一些行动。可作为进程间传递消息的一种方式，信号可以被生成、捕获、响应或忽略。信号在signal.h中定义，信号的名称都以SIG开头如：SIGALRM 超时警告；SIGINT：终端中断。 如果进程接收到这些信号中的一个，但是事先没有安排捕获它，进程将会立刻终止。
```

#### 06.信号量

```
信号量是一个计数器，可以用来控制多个进程对共享资源的访问。它常作为一种锁机制，防止某进程正在访问共享资源时，其他进程也访问该资源。
因此，主要作为进程间以及同一进程内不同线程之间的同步手段。
```
